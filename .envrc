# Enable direnv standard helpers

if command -v op > /dev/null 2>&1; then
  if op account list > /dev/null 2>&1; then
    if [ -z "$OP_VAULT" ]; then
        echo "direnv: ERROR - OP_VAULT environment variable is not set. Please set it to your 1Password vault name." >&2
    else
        export ANTHROPIC_API_KEY="${ANTHROPIC_API_KEY:-$(op read "op://${OP_VAULT}/Anthropic/api_key")}"
        export OPENAI_API_KEY="${OPENAI_API_KEY:-$(op read "op://${OP_VAULT}/OpenAI/api_key")}"
        export TAVILY_API_KEY="${TAVILY_API_KEY:-$(op read "op://${OP_VAULT}/Tavily/api_key")}"
        export LANGSMITH_API_KEY="${LANGSMITH_API_KEY:-$(op read "op://${OP_VAULT}/LangSmith/api_key")}"
    fi
  else
    echo "direnv: 1Password CLI not signed in. Run 'op account add' to configure." >&2
  fi
else
  echo "direnv: 1Password CLI not available. Install 1password-cli or set env vars manually." >&2
fi

export LANGSMITH_TRACING="${LANGSMITH_TRACING:-true}"
export LANGSMITH_PROJECT="${LANGSMITH_PROJECT:-deepagents-research}"
